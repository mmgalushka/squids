
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../images/logo.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.1">
    
    
      
        <title>Explorer - SquiDS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e8d9bf0c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#explore-tfrecords" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SquiDS" class="md-header__button md-logo" aria-label="SquiDS" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SquiDS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Explorer
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/mmgalushka/squids/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SquiDS" class="md-nav__button md-logo" aria-label="SquiDS" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    SquiDS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mmgalushka/squids/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../generator/" class="md-nav__link">
        Generator
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../transformer/" class="md-nav__link">
        Transformer
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Explorer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Explorer
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outcome" class="md-nav__link">
    Outcome
  </a>
  
    <nav class="md-nav" aria-label="Outcome">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exploring-all-records" class="md-nav__link">
    Exploring All Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exploring-individual-record" class="md-nav__link">
    Exploring Individual Record
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outcome_1" class="md-nav__link">
    Outcome
  </a>
  
    <nav class="md-nav" aria-label="Outcome">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exploring-all-records_1" class="md-nav__link">
    Exploring All Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exploring-individual-record_1" class="md-nav__link">
    Exploring Individual Record
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydoc" class="md-nav__link">
    PyDoc
  </a>
  
    <nav class="md-nav" aria-label="PyDoc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#squids.tfrecords.explorer" class="md-nav__link">
    squids.tfrecords.explorer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#squids.tfrecords.explorer.explore_tfrecords" class="md-nav__link">
    explore_tfrecords()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../loader/" class="md-nav__link">
        Loader
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        Examples
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outcome" class="md-nav__link">
    Outcome
  </a>
  
    <nav class="md-nav" aria-label="Outcome">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exploring-all-records" class="md-nav__link">
    Exploring All Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exploring-individual-record" class="md-nav__link">
    Exploring Individual Record
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outcome_1" class="md-nav__link">
    Outcome
  </a>
  
    <nav class="md-nav" aria-label="Outcome">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exploring-all-records_1" class="md-nav__link">
    Exploring All Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exploring-individual-record_1" class="md-nav__link">
    Exploring Individual Record
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydoc" class="md-nav__link">
    PyDoc
  </a>
  
    <nav class="md-nav" aria-label="PyDoc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#squids.tfrecords.explorer" class="md-nav__link">
    squids.tfrecords.explorer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#squids.tfrecords.explorer.explore_tfrecords" class="md-nav__link">
    explore_tfrecords()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/mmgalushka/squids/edit/master/docs/explorer.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="explore-tfrecords">Explore TFRecords</h1>
<p>This process helps to explore a collection of TFRecords as well as each record individually. It can be initiated by the Python <code>explore_tfrecords(...)</code> function (see <a href="#pydoc">PyDoc</a> for more information)  or via a command line.</p>
<h2 id="usage">Usage</h2>
<!-- Usage tab (Python|Shell)  -->

<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Python</label><label for="__tabbed_1_2">Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">squids</span> <span class="kn">import</span> <span class="n">explore_tfrecords</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">explore_tfrecords</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code>image_id</code> argument is:</p>
<ul>
<li>defined - this command outputs the specified record summary and stores the reconstructed image (with overlays for categories, bounding boxes, and masks) to the <code>output_dir</code>;</li>
<li>not defined - this command lists summaries for all TFRecords.</li>
</ul>
<p>This function works in two modes. If the <code>return_artifacts</code> argument is:</p>
<ul>
<li><code>True</code>, this function returns the collected information; </li>
<li><code>False</code>, the collected information is printed to the console and stored in the file (in the specified <code>output_dir</code>).</li>
</ul>
</div>
<h2 id="outcome">Outcome</h2>
<h3 id="exploring-all-records">Exploring All Records</h3>
<p>The result of using this function for exploring all TFRecords is shown below.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span> <span class="nn">squids</span> <span class="kn">import</span> <span class="n">explore_tfrecords</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">record_ids</span><span class="p">,</span> <span class="n">record_summaries</span> <span class="o">=</span> <span class="n">explore_tfrecords</span><span class="p">(</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="s2">&quot;dataset/synthetic-tfrecords/instances_train&quot;</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span class="n">return_artifacts</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p">)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;record_ids:&quot;</span><span class="p">,</span> <span class="n">record_ids</span><span class="p">)</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;record_summaries:&quot;</span><span class="p">,</span> <span class="n">record_summaries</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>record_ids: [725, 726, 727, 728, 729, 730, 731, 733, 734, 735, 737, 739, 740, 741, 743, 744, 745, 746, 747, 748, 749, 750, 751, 753, 754, 756, 758, 759, 760, 761, 763, 765, 767, 768, 770, 771, 772, 773, 775, 776, 778, 782, 784, 785, 786, 787, 789, 790, 791, 793, 795, ...]
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>record_summaries: [Counter({1: 2}), Counter({2: 1}), Counter({3: 2}), Counter({3: 1, 2: 1}), Counter({2: 2, 1: 1}), Counter({3: 2}), Counter({2: 2, 1: 1}), Counter({2: 1}), Counter({3: 2, 2: 1}), Counter({2: 1, 1: 1}), Counter({2: 1, 1: 1, 3: 1}), Counter({2: 2}), Counter({2: 3}), Counter({1: 1, 2: 1}), Counter({2: 1}), Counter({2: 1}), Counter({1: 1}), Counter({3: 1, 2: 1}), Counter({2: 1, 1: 1}), Counter({1: 2, 3: 1}), Counter({1: 1, 2: 1}), Counter({1: 2, 2: 1}), Counter({2: 1, 3: 1}), Counter({1: 1}), Counter({2: 2, 1: 1}), Counter({1: 3}), Counter({3: 1, 1: 1}), Counter({2: 1}), Counter({3: 1, 2: 1}), Counter({3: 2, 1: 1}), Counter({3: 1}), Counter({3: 1}), Counter({3: 1, 2: 1, 1: 1}), Counter({1: 1}), Counter({3: 2}), Counter({3: 1, 1: 1}), Counter({3: 1}), Counter({3: 2, 1: 1}), Counter({2: 1, 1: 1}), Counter({3: 2, 2: 1}), Counter({1: 2, 3: 1}), Counter({2: 1}), Counter({2: 1}), Counter({2: 1}), Counter({1: 2, 2: 1}), Counter({1: 2, 2: 1}), Counter({3: 2, 2: 1}), Counter({2: 1}), Counter({1: 2, 2: 1}), Counter({3: 1}), Counter({2: 1}), ...]
</code></pre></div>
<p>From the output, you can observe two arrays. The <code>record_ids</code> array contains record (image) IDs present in the training dataset.  The <code>record_summaries</code> array contains <code>Counter</code> Python objects for each record (image) with information of what categories are present in the images and how many objects belonged to each category.</p>
<p>For example, if we have the following <code>record_id==737</code> and <code>record_summary==Counter({3: 1, 2: 1, 1: 1})</code>, it means that the image with ID <code>123</code> has 1 or more objects of category <code>1</code>, 1 or more objects of category <code>2</code> and 1 or more objects of category <code>3</code> respectively. This should help you to pick an image including a specific set of categories.</p>
<h3 id="exploring-individual-record">Exploring Individual Record</h3>
<p>The individual record exploration produces the following output.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">from</span> <span class="nn">squids</span> <span class="kn">import</span> <span class="n">explore_tfrecords</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">record_image</span><span class="p">,</span> <span class="n">record_summary</span> <span class="o">=</span> <span class="n">explore_tfrecords</span><span class="p">(</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="s2">&quot;dataset/synthetic-tfrecords/instances_train&quot;</span><span class="p">,</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="n">image_id</span><span class="o">=</span><span class="mi">737</span><span class="p">,</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="n">with_categories</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="n">with_bboxes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="n">with_segmentations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="n">return_artifacts</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="p">)</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;record_summary:&quot;</span><span class="p">,</span> <span class="n">record_summary</span><span class="p">)</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="n">record_image</span>
</code></pre></div>
<p><code>`text
record_summary: {'image_id': 737, 'image_size': (256, 256), 'number_of_objects': 3, 'available_categories': {1, 2, 3}}</code></p>
<p><img alt="image with overlays" src="../images/image_with_overlays.png" /></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>~$ python squids.main explore <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--no-categories<span class="o">]</span> <span class="o">[</span>--no-bboxes<span class="o">]</span> <span class="o">[</span>--no-segmentations<span class="o">]</span> TFRECORDS_DIR <span class="o">[</span>IMAGE_ID<span class="o">]</span> <span class="o">[</span>OUTPUT_DIR<span class="o">]</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>positional arguments:
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    TFRECORDS_DIR       a TFRecords directory to explore
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>optional arguments:
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    -h, --help          show this <span class="nb">help</span> message and <span class="nb">exit</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>A record exploration options:
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    IMAGE_ID            an image ID to <span class="k">select</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    OUTPUT_DIR          an output directory to save rendered image
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    --no-categories     turn off showing of categories
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    --no-bboxes         turn off showing of bounding boxes
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    --no-segmentations  turn off showing of segmentations
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code>IMAGE_ID</code> is:
- defined - this command outputs the specified record summary and stores the reconstructed image (with overlays for categories, bounding boxes, and masks) to the <code>OUTPUT_DIR</code>;
- not defined - this command lists summaries for all TFRecords.</p>
</div>
<h2 id="outcome_1">Outcome</h2>
<h3 id="exploring-all-records_1">Exploring All Records</h3>
<p>The result of using this command for exploring all TFRecords is shown below.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>dataset/synthetic-tfrecords/instances_train/
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>725 {1}        921 {1}        485 {1, 3}     686 {1, 2}     166 {1}      
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>726 {2}        922 {1, 2, 3}  486 {3}        687 {1}        167 {3}      
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>727 {3}        923 {2}        488 {1, 2}     688 {1, 3}     168 {1}      
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>728 {2, 3}     924 {2}        489 {2, 3}     689 {1, 2}     169 {2}      
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>729 {1, 2}     925 {3}        490 {2, 3}     690 {1, 3}     172 {1}      
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>730 {3}        926 {2, 3}     491 {3}        692 {2}        173 {1, 3}   
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>731 {1, 2}     927 {1}        493 {1, 2}     693 {3}        174 {1, 3}   
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>733 {2}        929 {1, 3}     494 {3}        694 {2}        175 {2}      
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>734 {2, 3}     930 {1}        495 {1, 3}     698 {2}        178 {1, 3}   
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>735 {1, 2}     933 {1}        496 {1, 3}     699 {1, 2, 3}  179 {1, 2, 3}
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>737 {1, 2, 3}  934 {1, 2, 3}  498 {1}        700 {2, 3}     180 {2}      
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>739 {2}        935 {3}        499 {1, 3}     702 {2, 3}     181 {3}      
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>740 {2}        936 {1, 3}     500 {3}        703 {3}        182 {1, 2, 3}
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>741 {1, 2}     937 {1, 2, 3}  501 {1, 2, 3}  706 {1}        183 {2}      
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>743 {2}        939 {1, 2}     502 {1}        707 {1, 2}     184 {3}      
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>744 {2}        941 {2}        503 {2}        709 {2, 3}     185 {1, 2}   
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>745 {1}        943 {2, 3}     504 {1, 3}     711 {2, 3}     186 {1, 2, 3}
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>746 {2, 3}     945 {1, 3}     506 {2}        712 {2}        187 {2, 3}   
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>747 {1, 2}     948 {1}        507 {1, 2, 3}  713 {3}        188 {2}      
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>748 {1, 3}     949 {1, 2}     511 {1}        715 {1, 2}     189 {1, 2}   
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>749 {1, 2}     950 {1, 3}     512 {2}        717 {2, 3}     190 {2, 3}   
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>750 {1, 2}     952 {1, 3}     514 {1, 2}     718 {2, 3}     192 {1, 3}   
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>751 {2, 3}     953 {1, 3}     515 {1, 2}     719 {3}        193 {1, 2}   
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>753 {1}        954 {2, 3}     517 {1, 3}     720 {2}        194 {1}      
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>...            ...            ...            ...            ...
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>908 {1, 3}     470 {3}        667 {3}        155 {3}        359 {3}      
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>910 {2, 3}     472 {2}        668 {1, 2}     156 {1, 2}     361 {2, 3}   
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>911 {1, 2}     473 {2, 3}     670 {2, 3}     158 {1}        362 {1, 2, 3}
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>912 {1, 2}     477 {2}        671 {1, 2, 3}  159 {3}        363 {1}      
<a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>913 {3}        478 {2}        673 {1, 2}     160 {1, 2, 3}  365 {3}      
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>914 {2, 3}     480 {2}        678 {1, 2}     161 {2, 3}     366 {1}      
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>915 {1, 3}     481 {1}        680 {2}        162 {1, 2, 3}  367 {1}      
<a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>917 {1, 2}     482 {2}        682 {1}        163 {1, 3}   
<a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>918 {1, 2}     483 {2, 3}     683 {2, 3}     164 {2, 3}   
<a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>920 {1, 2, 3}  484 {3}        684 {1}        165 {1, 2}   
<a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>Total 712 records
</code></pre></div>
<p>From the output, you can observe the total number of images contained with these records, the listing of all images IDs combined with indicators categories present for each image. For example, if we have the following line <code>737 {1,2,3}</code>, it means that the image with ID <code>123</code> has 1 or more objects of category <code>1</code>, 1 or more objects of category <code>2</code> and 1 or more objects of category <code>3</code> respectively. This should help you to pick an image including a specific set of categories.</p>
<h3 id="exploring-individual-record_1">Exploring Individual Record</h3>
<p>The individual record exploration produces the following output to the console and saves the image file <code>&lt;image_id&gt;.png</code> to the <code>OUTPUT_DIR</code> directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Property              Value
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>--------------------  ----------
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>image_id              737
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>image_size            (256, 256)
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>number_of_objects     3
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>available_categories  {1, 2, 3}
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>Image saved to ./737.png
</code></pre></div>
<p>The output contains information about the image identifier its shape, number of annotated objects, and their categories. Also, all information about bounding boxes, segmentation, and categories are overlaid to the image, which example is shown below.</p>
<p><img alt="image with overlays" src="../images/image_with_overlays.png" /></p>
</div>
</div>
</div>
<h2 id="pydoc">PyDoc</h2>


  <div class="doc doc-object doc-module">

<a id="squids.tfrecords.explorer"></a>
    <div class="doc doc-contents first">

      <p>A module for exploring TFRecords data set.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="squids.tfrecords.explorer.explore_tfrecords" class="doc doc-heading">
<code class="highlight language-python"><span class="n">explore_tfrecords</span><span class="p">(</span><span class="n">tfrecords_dir</span><span class="p">,</span> <span class="n">image_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">with_categories</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">with_bboxes</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">with_segmentations</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_artifacts</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Explores individual or multiple TFRecord(s).</p>
<p>This function allows listing a summary of all TFRecords as well as
viewing the content of individual records such as an image together
with annotated bounding boxes, segments, and categories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tfrecords_dir</code></td>
        <td><code>str</code></td>
        <td><p>The directory containing TFRecords parts.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>image_id</code></td>
        <td><code>int</code></td>
        <td><p>The image ID to view.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>output_dir</code></td>
        <td><code>str</code></td>
        <td><p>The output directory where to store the produced artifacts such as
image content with overlaid binding boxes, masks, categories,
etc.</p></td>
        <td><code>&#39;.&#39;</code></td>
      </tr>
      <tr>
        <td><code>with_categories</code></td>
        <td><code>bool</code></td>
        <td><p>The flag to superimpose categories on an image, defined within
a record. If the flag is <code>True</code> categories are overlaid
to an image and <code>False</code> categories are discarded.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>with_bboxes</code></td>
        <td><code>bool</code></td>
        <td><p>The flag to superimpose bounding boxes on an image, defined within
a record. If the flag is <code>True</code> bounding boxes are overlaid
to an image and <code>False</code> boxes are discarded.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>with_segmentations</code></td>
        <td><code>bool</code></td>
        <td><p>The flag to superimpose segmentation masks on an image, defined
within a record. If the flag is <code>True</code> segmentation masks are
overlaid to an image and <code>False</code> masks are discarded.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>return_artifacts</code></td>
        <td><code>bool</code></td>
        <td><p>The flag (<code>True</code> value) enforces the function to return generated
artifacts instead of output them to a console or store them in a
file. This flag would be useful if you for example working with
Jupyter notebook and would like to present inspected results
directly within a cell, or planning to perform its further
processing.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(record_ids, record_summaries) | (record_image, record_summary)</code></td>
      <td><ul>
<li>These values are returned if <code>image_id==None &amp; return_artifacts
    ==True</code>, where:<ul>
<li><code>record_ids</code> - a list<int> of records identifiers;</li>
<li><code>record_summaries</code> - a list<Counter> of summary information
about each record;</li>
</ul>
</li>
<li>These values are returned if <code>image_id!=None &amp;  return_artifacts
    ==True</code>, where:<ul>
<li><code>record_image</code> - a PIL image with overlays of binding boxes,
masks, and categories;</li>
<li><code>record_summary</code>- a dictionary with summary information about
the selected record;</li>
</ul>
</li>
</ul></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>






  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../transformer/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Transformer" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Transformer
            </div>
          </div>
        </a>
      
      
        
        <a href="../loader/" class="md-footer__link md-footer__link--next" aria-label="Next: Loader" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Loader
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.8aa65030.min.js"></script>
      
    
  </body>
</html>